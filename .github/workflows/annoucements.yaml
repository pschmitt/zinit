name: ðŸ“£ Annoucements
on:
  discussion:
    types: [created, edited, pinned]


jobs:
  gitter-im-broadcast:
    runs-on: ubuntu-latest
    steps:
      - name: ðŸ“£ Broadcast announcement
        if: github.event.discussion.category.name == "Announcements"
        run: |
          echo 'New discussion!'
          echo "$GITHUB"
          echo "$GITHUB_EVENT"
          cat "$GITHUB_EVENT_PATH"
          TITLE=$(jq -er '.discussion.title' "$GITHUB_EVENT_PATH")
          BODY=$(jq -er '.discussion.body' "$GITHUB_EVENT_PATH")

          echo "New announcement: $TITLE -> $BODY"
